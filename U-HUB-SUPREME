if getgenv().isloading then
    warn("[UNX]: Already loading, wait!!!!")
    return
end

getgenv().isloading = true
getgenv().isunx = "this is unxhub. | anti tamper: Ab5!%QytR*1&"

print([[


print("UNXHub | Anything Below Here Is Probably UNXHub Related Errors!")

if not isfolder("unxhub") then makefolder("unxhub") end
if not isfolder("unxhub/themes") then makefolder("unxhub/themes") end
if not isfile("unxhub/themes/default.txt") then writefile("unxhub/themes/default.txt", "UNXIsh") end
if not isfile("unxhub/themes/UNXIsh.json") then writefile("unxhub/themes/UNXIsh.json", '{"MainColor":"131218","FontFace":"Code","AccentColor":"a970ff","OutlineColor":"262434","BackgroundColor":"0b0b0d","FontColor":"e8e6f2"}') end

loadstring(game:HttpGet("https://apigetunx.vercel.app/Modules/v2/Inv.lua",true))()

if not isfile("UsedOneTime.unx") then
    writefile("UsedOneTime.unx","1")
elseif not isfile("AlreadyRated.unx") then
    loadstring(game:HttpGet(
    "https://raw.githubusercontent.com/not-gato/UNX/refs/heads/main/Modules/v2/Rating.lua"
    ))()
    writefile("AlreadyRated.unx","1")
end

if getgenv().unxshared and getgenv().unxshared.isloaded == true then
    warn("UNXHub is already loaded. Skipping initialization.")
    return
end

local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local CoreGui = game:GetService("CoreGui")
local MarketplaceService = game:GetService("MarketplaceService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

local Config = {
    Colors = {
        Background = Color3.fromHex("0b0b0d"),
        Outline = Color3.fromHex("262434"),
        Text = Color3.fromHex("e8e6f2"),
        TextDim = Color3.fromHex("8a8a9e"),
        BarEmpty = Color3.fromHex("131218"),
        BarFilled = Color3.fromHex("a970ff"),
        Success = Color3.fromRGB(40, 201, 64),
        Error = Color3.fromRGB(255, 80, 80)
    },
    Assets = {
        Logo = "rbxassetid://73740010358428",
        Checkmark = "rbxassetid://11242915823",
        ErrorX = "rbxassetid://4988112250"
    },
    Timings = {
        Intro = 0.8,       
        Loop = 2.5,        
        SuccessMorph = 0.8,
        Checkmark = 0.5    
    }
}

local PromptGui = CoreGui:WaitForChild("RobloxPromptGui")

if PromptGui:FindFirstChild("MainFrame") then
    PromptGui.MainFrame:Destroy()
end

local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 0, 0, 0)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.BackgroundColor3 = Config.Colors.Background
MainFrame.ClipsDescendants = true
MainFrame.Active = true 
MainFrame.ZIndex = 10000
MainFrame.Parent = PromptGui

local dragging
local dragInput
local dragStart
local startPos

local function update(input)
    local delta = input.Position - dragStart
    MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

MainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
        dragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == dragInput and dragging then
        update(input)
    end
end)

local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 14) 
MainCorner.Parent = MainFrame

local MainStroke = Instance.new("UIStroke")
MainStroke.Color = Config.Colors.Outline
MainStroke.Thickness = 1.5
MainStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
MainStroke.Parent = MainFrame

-- Key System Elements
local KeyLabel = Instance.new("TextLabel")
KeyLabel.Name = "KeyLabel"
KeyLabel.Size = UDim2.new(1, 0, 0, 30)
KeyLabel.Position = UDim2.new(0, 0, 0.2, 0)
KeyLabel.BackgroundTransparency = 1
KeyLabel.Text = "UNXHub Key"
KeyLabel.TextColor3 = Config.Colors.Text
KeyLabel.Font = Enum.Font.GothamBold
KeyLabel.TextSize = 22
KeyLabel.TextTransparency = 1
KeyLabel.ZIndex = 10002
KeyLabel.Parent = MainFrame

local KeyInput = Instance.new("TextBox")
KeyInput.Name = "KeyInput"
KeyInput.Size = UDim2.new(0.8, 0, 0, 35)
KeyInput.Position = UDim2.new(0.5, 0, 0.45, 0)
KeyInput.AnchorPoint = Vector2.new(0.5, 0.5)
KeyInput.BackgroundColor3 = Config.Colors.BarEmpty
KeyInput.TextColor3 = Config.Colors.Text
KeyInput.PlaceholderText = "Key"
KeyInput.Text = ""
KeyInput.PlaceholderColor3 = Config.Colors.TextDim
KeyInput.Font = Enum.Font.Gotham
KeyInput.TextSize = 14
KeyInput.BackgroundTransparency = 1
KeyInput.TextTransparency = 1
KeyInput.ZIndex = 10002
KeyInput.Parent = MainFrame

local KeyInputCorner = Instance.new("UICorner")
KeyInputCorner.CornerRadius = UDim.new(0, 6)
KeyInputCorner.Parent = KeyInput

local KeyInputStroke = Instance.new("UIStroke")
KeyInputStroke.Color = Config.Colors.Outline
KeyInputStroke.Thickness = 1
KeyInputStroke.Transparency = 1
KeyInputStroke.Parent = KeyInput

local GetKeyBtn = Instance.new("TextButton")
GetKeyBtn.Name = "GetKeyBtn"
GetKeyBtn.Size = UDim2.new(0.35, 0, 0, 30)
GetKeyBtn.Position = UDim2.new(0.1, 0, 0.65, 0)
GetKeyBtn.BackgroundColor3 = Config.Colors.BarEmpty
GetKeyBtn.Text = "Get Key"
GetKeyBtn.TextColor3 = Config.Colors.Text
GetKeyBtn.Font = Enum.Font.Gotham
GetKeyBtn.TextSize = 12
GetKeyBtn.BackgroundTransparency = 1
GetKeyBtn.TextTransparency = 1
GetKeyBtn.ZIndex = 10002
GetKeyBtn.Parent = MainFrame

local GetKeyCorner = Instance.new("UICorner")
GetKeyCorner.CornerRadius = UDim.new(0, 6)
GetKeyCorner.Parent = GetKeyBtn

local GetKeyStroke = Instance.new("UIStroke")
GetKeyStroke.Color = Config.Colors.Outline
GetKeyStroke.Thickness = 1
GetKeyStroke.Transparency = 1
GetKeyStroke.Parent = GetKeyBtn

local CheckKeyBtn = Instance.new("TextButton")
CheckKeyBtn.Name = "CheckKeyBtn"
CheckKeyBtn.Size = UDim2.new(0.35, 0, 0, 30)
CheckKeyBtn.Position = UDim2.new(0.55, 0, 0.65, 0)
CheckKeyBtn.BackgroundColor3 = Config.Colors.BarFilled
CheckKeyBtn.Text = "Check Key"
CheckKeyBtn.TextColor3 = Config.Colors.Text
CheckKeyBtn.Font = Enum.Font.GothamBold
CheckKeyBtn.TextSize = 12
CheckKeyBtn.BackgroundTransparency = 1
CheckKeyBtn.TextTransparency = 1
CheckKeyBtn.ZIndex = 10002
CheckKeyBtn.Parent = MainFrame

local CheckKeyCorner = Instance.new("UICorner")
CheckKeyCorner.CornerRadius = UDim.new(0, 6)
CheckKeyCorner.Parent = CheckKeyBtn

-- Original Elements
local LogoImage = Instance.new("ImageLabel")
LogoImage.Name = "Logo"
LogoImage.Size = UDim2.new(0, 85, 0, 85)
LogoImage.Position = UDim2.new(0.5, 0, 0.1, 0) 
LogoImage.AnchorPoint = Vector2.new(0.5, 0)
LogoImage.BackgroundTransparency = 1
LogoImage.Image = Config.Assets.Logo
LogoImage.ImageColor3 = Config.Colors.Text 
LogoImage.ImageTransparency = 1 
LogoImage.ZIndex = 10001
LogoImage.Parent = MainFrame

local LogoCorner = Instance.new("UICorner")
LogoCorner.CornerRadius = UDim.new(0, 12)
LogoCorner.Parent = LogoImage

local LogoStroke = Instance.new("UIStroke")
LogoStroke.Color = Config.Colors.Outline
LogoStroke.Thickness = 1
LogoStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
LogoStroke.Transparency = 1
LogoStroke.Parent = LogoImage

local TitleLabel = Instance.new("TextLabel")
TitleLabel.Name = "Title"
TitleLabel.Size = UDim2.new(1, 0, 0, 22)
TitleLabel.Position = UDim2.new(0, 0, 0.52, 0)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "UNXHub"
TitleLabel.TextColor3 = Config.Colors.Text
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextSize = 20
TitleLabel.TextTransparency = 1 
TitleLabel.ZIndex = 10001
TitleLabel.Parent = MainFrame

local StatusLabel = Instance.new("TextLabel")
StatusLabel.Name = "Status"
StatusLabel.Size = UDim2.new(1, 0, 0, 14)
StatusLabel.Position = UDim2.new(0, 0, 0.63, 0) 
StatusLabel.BackgroundTransparency = 1
StatusLabel.Text = "Initializing..."
StatusLabel.TextColor3 = Config.Colors.TextDim
StatusLabel.Font = Enum.Font.Gotham
StatusLabel.TextSize = 12
StatusLabel.TextTransparency = 1 
StatusLabel.ZIndex = 10001
StatusLabel.Parent = MainFrame

local LoaderContainer = Instance.new("Frame")
LoaderContainer.Name = "LoaderContainer"
LoaderContainer.Size = UDim2.new(0.75, 0, 0, 5) 
LoaderContainer.Position = UDim2.new(0.5, 0, 0.85, 0) 
LoaderContainer.AnchorPoint = Vector2.new(0.5, 0.5)
LoaderContainer.BackgroundColor3 = Config.Colors.BarEmpty
LoaderContainer.BackgroundTransparency = 1
LoaderContainer.ClipsDescendants = true 
LoaderContainer.ZIndex = 10001
LoaderContainer.Parent = MainFrame

local LoaderCorner = Instance.new("UICorner")
LoaderCorner.CornerRadius = UDim.new(1, 0)
LoaderCorner.Parent = LoaderContainer

local LoaderStroke = Instance.new("UIStroke")
LoaderStroke.Color = Config.Colors.Outline
LoaderStroke.Thickness = 1
LoaderStroke.Transparency = 1 
LoaderStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
LoaderStroke.Parent = LoaderContainer

local BarFill = Instance.new("Frame")
BarFill.Name = "BarFill"
BarFill.Size = UDim2.new(0.3, 0, 1, 0)
BarFill.Position = UDim2.new(-0.3, 0, 0, 0)
BarFill.BackgroundColor3 = Config.Colors.BarFilled
BarFill.BorderSizePixel = 0
BarFill.ZIndex = 10002
BarFill.Parent = LoaderContainer

local FillCorner = Instance.new("UICorner")
FillCorner.CornerRadius = UDim.new(1, 0)
FillCorner.Parent = BarFill

local Checkmark = Instance.new("ImageLabel")
Checkmark.Name = "Checkmark"
Checkmark.Size = UDim2.new(0.6, 0, 0.6, 0) 
Checkmark.Position = UDim2.new(0.5, 0, 0.5, 0)
Checkmark.AnchorPoint = Vector2.new(0.5, 0.5)
Checkmark.BackgroundTransparency = 1
Checkmark.Image = Config.Assets.Checkmark
Checkmark.ImageColor3 = Color3.fromRGB(255, 255, 255)
Checkmark.ImageTransparency = 1 
Checkmark.ZIndex = 10002
Checkmark.Parent = LoaderContainer

local ErrorIcon = Instance.new("ImageLabel")
ErrorIcon.Name = "ErrorIcon"
ErrorIcon.Size = UDim2.new(0.5, 0, 0.5, 0) 
ErrorIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
ErrorIcon.AnchorPoint = Vector2.new(0.5, 0.5)
ErrorIcon.BackgroundTransparency = 1
ErrorIcon.Image = Config.Assets.ErrorX
ErrorIcon.ImageColor3 = Color3.fromRGB(255, 255, 255)
ErrorIcon.ImageTransparency = 1 
ErrorIcon.ZIndex = 10002
ErrorIcon.Parent = LoaderContainer

local Controller = {}
local InfiniteTween

function Controller:Start()
    local OpenTween = TweenService:Create(MainFrame, TweenInfo.new(Config.Timings.Intro, Enum.EasingStyle.Linear), {
        Size = UDim2.new(0, 200, 0, 250)
    })
    OpenTween:Play()
    OpenTween.Completed:Wait()

    local FadeIn = TweenInfo.new(0.5)
    TweenService:Create(KeyLabel, FadeIn, {TextTransparency = 0}):Play()
    TweenService:Create(KeyInput, FadeIn, {BackgroundTransparency = 0, TextTransparency = 0}):Play()
    TweenService:Create(KeyInputStroke, FadeIn, {Transparency = 0}):Play()
    TweenService:Create(GetKeyBtn, FadeIn, {BackgroundTransparency = 0, TextTransparency = 0}):Play()
    TweenService:Create(GetKeyStroke, FadeIn, {Transparency = 0}):Play()
    TweenService:Create(CheckKeyBtn, FadeIn, {BackgroundTransparency = 0, TextTransparency = 0}):Play()

    local KeyCorrect = false
    local old_key = {"unxhub2025", "unxhubontopbruh", "unxhubbestflickscriptfr", "GGOPFEATURES", "2.6.0"}
    
    GetKeyBtn.MouseButton1Click:Connect(function()
        setclipboard("https://getunx.qzz.io/Key")
        GetKeyBtn.Text = "Copied!"
        task.wait(1)
        GetKeyBtn.Text = "Get Key"
    end)

    CheckKeyBtn.MouseButton1Click:Connect(function()
        if KeyInput.Text == "pluh" then
            KeyCorrect = true
        elseif table.find(old_key, KeyInput.Text) then
             KeyInput.Text = ""
             KeyInput.PlaceholderText = "Old Key!"
             task.wait(1)
             KeyInput.PlaceholderText = "Key"
        else
            KeyInput.Text = ""
            KeyInput.PlaceholderText = "Invalid Key"
            task.wait(1)
            KeyInput.PlaceholderText = "Key"
        end
    end)

    repeat task.wait() until KeyCorrect

    local FadeOut = TweenInfo.new(0.5)
    TweenService:Create(KeyLabel, FadeOut, {TextTransparency = 1}):Play()
    TweenService:Create(KeyInput, FadeOut, {BackgroundTransparency = 1, TextTransparency = 1}):Play()
    TweenService:Create(KeyInputStroke, FadeOut, {Transparency = 1}):Play()
    TweenService:Create(GetKeyBtn, FadeOut, {BackgroundTransparency = 1, TextTransparency = 1}):Play()
    TweenService:Create(GetKeyStroke, FadeOut, {Transparency = 1}):Play()
    TweenService:Create(CheckKeyBtn, FadeOut, {BackgroundTransparency = 1, TextTransparency = 1}):Play()
    
    task.wait(0.5)
    
    KeyLabel:Destroy()
    KeyInput:Destroy()
    GetKeyBtn:Destroy()
    CheckKeyBtn:Destroy()

    local FadeInfo = TweenInfo.new(0.8) 
    TweenService:Create(LogoImage, FadeInfo, {ImageTransparency = 0}):Play()
    TweenService:Create(LogoStroke, FadeInfo, {Transparency = 0}):Play()
    TweenService:Create(TitleLabel, FadeInfo, {TextTransparency = 0}):Play()
    TweenService:Create(StatusLabel, FadeInfo, {TextTransparency = 0}):Play()
    TweenService:Create(LoaderContainer, FadeInfo, {BackgroundTransparency = 0}):Play()
    TweenService:Create(LoaderStroke, FadeInfo, {Transparency = 0}):Play()

    local LoopInfo = TweenInfo.new(Config.Timings.Loop, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut, -1)
    BarFill.Position = UDim2.new(-0.35, 0, 0, 0)
    InfiniteTween = TweenService:Create(BarFill, LoopInfo, {Position = UDim2.new(1.35, 0, 0, 0)})
    InfiniteTween:Play()
end

function Controller:SetStatus(text)
    StatusLabel.Text = text
end

function Controller:Success()
    if InfiniteTween then InfiniteTween:Cancel() end
    TweenService:Create(BarFill, TweenInfo.new(0.3), {BackgroundTransparency = 1}):Play()
    
    local MorphInfo = TweenInfo.new(Config.Timings.SuccessMorph, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    TweenService:Create(LoaderContainer, MorphInfo, {
        Size = UDim2.new(0, 40, 0, 40), 
        BackgroundColor3 = Config.Colors.Success
    }):Play()
    TweenService:Create(LoaderStroke, TweenInfo.new(0.5), {
        Color = Config.Colors.Success
    }):Play()

    task.wait(0.3)
    local CheckTween = TweenService:Create(Checkmark, TweenInfo.new(Config.Timings.Checkmark, Enum.EasingStyle.Linear), {
        ImageTransparency = 0
    })
    CheckTween:Play()
    
    Controller:SetStatus("You are Homosexual!")
end

function Controller:Fail()
    if InfiniteTween then InfiniteTween:Cancel() end
    TweenService:Create(BarFill, TweenInfo.new(0.3), {BackgroundTransparency = 1}):Play()
    
    local MorphInfo = TweenInfo.new(0.8, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    TweenService:Create(LoaderContainer, MorphInfo, {
        Size = UDim2.new(0, 40, 0, 40), 
        BackgroundColor3 = Config.Colors.Error
    }):Play()
    TweenService:Create(LoaderStroke, TweenInfo.new(0.5), {
        Color = Config.Colors.Error
    }):Play()

    task.wait(0.3)
    TweenService:Create(ErrorIcon, TweenInfo.new(0.5, Enum.EasingStyle.Linear), {
        ImageTransparency = 0
    }):Play()
    
    Controller:SetStatus("Failed To Start UNXHub :(")
end

local function s(text)
    Controller:SetStatus(text)
    task.wait(0.2) 
end

Controller:Start()
s("UNXHub Loader 2.6.0 initialized")
s("Checking API Status...")
loadstring(game:HttpGet("https://raw.githubusercontent.com/not-gato/UNX/refs/heads/main/Modules/v2/API.lua",true))()
task.wait(0.1)

s("Creating global variables...")
task.wait(0.05)
getgenv().unxshared={version="2.6.0",gamename=MarketplaceService:GetProductInfo(game.PlaceId).Name,issupported=false,playername=LocalPlayer.Name,playerid=LocalPlayer.UserId,isloaded=false,devnote="Made with ðŸ’– by Gato"}
s("Caching Stuff...")

local folder = "unxhub/cache"
local ts = folder .. "/.t"

local files = {
    {"Library.lua", "https://raw.githubusercontent.com/deividcomsono/Obsidian/main/Library.lua"},
    {"ThemeManager.lua", "https://raw.githubusercontent.com/deividcomsono/Obsidian/main/addons/ThemeManager.lua"},
    {"SaveManager.lua", "https://raw.githubusercontent.com/deividcomsono/Obsidian/main/addons/SaveManager.lua"},
    {"Bind.lua", "https://apigetunx.vercel.app/Modules/v2/Bind.lua"}
}

local day = 86400
local maxRetries = 3
local retryDelay = 1.5

makefolder("unxhub")
makefolder(folder)

local function get(u)
    local methods = {
        function() return request and request({Url = u, Method = "GET"}).Body end,
        function() return http_request and http_request({Url = u, Method = "GET"}).Body end,
        function() return game.HttpGet and game:HttpGet(u) end
    }
    
    for _, meth in ipairs(methods) do
        local success, res = pcall(meth)
        if success and res and #res > 50 then
            return res
        end
    end
    return ""
end

local refresh = true

if isfile(ts) then
    local num = tonumber(readfile(ts))
    if num and os.time() - num < day then
        refresh = false
    end
end

local successCount = 0
local totalFiles = #files

if refresh then
    for i = 1, totalFiles do
        local path = folder .. "/" .. files[i][1]
        if isfile(path) then delfile(path) end
    end
    if isfile(ts) then delfile(ts) end
    
    for i = 1, totalFiles do
        local name = files[i][1]
        local url = files[i][2]
        local path = folder .. "/" .. name
        local data = ""

        for attempt = 1, maxRetries do
            data = get(url)
            if #data > 50 then
                break
            end
            if attempt < maxRetries then
                wait(retryDelay)
            end
        end

        if #data > 50 then
            writefile(path, data)
            successCount = successCount + 1
        end
    end
    
    if successCount > 0 then
        writefile(ts, tostring(os.time()))
    end
end

if not refresh then
    s("Cache is uptodate no need to update")
elseif successCount == totalFiles then
    s("Cached successfully (" .. successCount .. "/" .. totalFiles .. ") :D")
elseif successCount > 0 then
    s("partial cache success (" .. successCount .. "/" .. totalFiles .. ") some failed")
else
    s("Cache update failed - all downloads failed")
end

s("Player: "..LocalPlayer.Name.." (ID: "..LocalPlayer.UserId..")")
task.wait(0.05)
s("Game: "..getgenv().unxshared.gamename)
task.wait(0.14)
s("Checking game compatibility...")
task.wait(0.02)
local bc=game.PlaceId
s("Game ID: "..tostring(bc))
s("Developer Note: "..getgenv().unxshared.devnote)
s("UNXHub is a non-profit, source avaliable script hub. Any form of help, such as donating, supporting, or joining the Discord server, encourages me to continue this project, thanks! :D")
bd={[12240122896]="https://apigetunx.vercel.app/Games/FigureL.lua",[136801880565837]="https://apigetunx.vercel.app/Games/Flick.lua",[893973440]="https://github.com/not-gato/UNX/raw/refs/heads/main/Games/Flee.lua",[132745842491660]="https://github.com/not-gato/UNX/raw/refs/heads/main/Games/Flee.lua",[106344247300586]="https://github.com/not-gato/UNX/raw/refs/heads/main/Games/Flee.lua",[125624013879756]="https://github.com/not-gato/UNX/raw/refs/heads/main/Games/Flee.lua"}
local be,bf

if bd[bc]then
    getgenv().unxshared.issupported=true
    s("Game verified: "..getgenv().unxshared.gamename)
    task.wait(0.05)
    s("Fetching game-specific script...")
    task.wait(0.01)
    be,bf=pcall(function()
        local scriptUrl=bd[bc]
        local src=game:HttpGet(scriptUrl)
        local func,err=loadstring(src,scriptUrl)
        if not func then error(err) end
        func()
    end)
else
    getgenv().unxshared.issupported=false
    s("Game not supported, loading universal")
    task.wait(0.03)
    s("Fetching universal script...")
    task.wait(0.1)
    be,bf=pcall(function()
        local scriptUrl="https://raw.githubusercontent.com/not-gato/UNX/refs/heads/main/Games/Universal.lua"
        local src=game:HttpGet(scriptUrl)
        local func,err=loadstring(src,scriptUrl)
        if not func then error(err) end
        func()
    end)
end

if be then
    s("Sending Information...")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/not-gato/UNX/refs/heads/main/Modules/v2/Log.lua"))()
    getgenv().unxshared.isloaded=true
    s("Script loaded successfully")
    task.wait(0.05)
    s("Initialization complete :)")
    Controller:Success()
    task.wait(0.3)
    
    local FadeOutInfo = TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
    
    TweenService:Create(MainFrame, FadeOutInfo, {
        Size = UDim2.new(0, 0, 0, 0),
        BackgroundTransparency = 1
    }):Play()
    
    if LoaderStroke then
        LoaderStroke.Enabled = false
        TweenService:Create(LoaderStroke, FadeOutInfo, {Transparency = 1}):Play()
    end
    
    pcall(function()
        for _,v in pairs(MainFrame:GetDescendants()) do
            if v:IsA("GuiObject") then
                TweenService:Create(v, FadeOutInfo, {BackgroundTransparency=1, ImageTransparency=1, TextTransparency=1}):Play()
            elseif v:IsA("UIStroke") then
                 TweenService:Create(v, FadeOutInfo, {Transparency=1}):Play()
            end
        end
    end)
    
    task.wait(0.6)
    
    pcall(function() MainFrame:ClearAllChildren() end)
    pcall(function() MainFrame:Destroy() end)
    getgenv().isloading = false
else
    getgenv().unxshared.isloaded = false
    Controller:Fail()
    
    local errorMsg=tostring(bf):gsub("`","")
    local kickTitle="UNXHub"
    local kickBody=
    "<font color='rgb(255,100,100)'>An error occurred and UNXHub must close.</font>\n\n"..
    "<font color='rgb(220,220,220)'>Error: </font><font color='rgb(255,150,150)'>"..errorMsg.."</font>\n\n"..
    "<font color='rgb(100,200,255)'>Please report this issue on our Discord server:</font>\n"..
    "<font color='rgb(0,170,255)'>https://discord.gg/zpaMS8qUfB</font>"
    local success,cKickModule=pcall(function()
        return loadstring(game:HttpGet("https://raw.githubusercontent.com/not-gato/gatostuff/refs/heads/main/raw/scripts/uKick.lua"))()
    end)
    if success and cKickModule and cKickModule.cKick then
        delfolder("unxhub/cache")
        pcall(cKickModule.cKick,kickTitle,kickBody)
    else
        delfolder("unxhub/cache")
        game.Players.LocalPlayer:Kick("Custom kick module failed to load! wtf?!??, Press F9 To see UNXHub Error!")
        warn("[UNX]: UNXHub Loader Error:".. bf)
    end
end
